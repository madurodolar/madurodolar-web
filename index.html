<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- ================= SEO Metadata ================= -->
  <title>MaduroDólar – Tasa USD/VES en Tiempo Real</title>
  <meta name="description" content="Consulta la tasa paralelo USD/VES (Binance P2P) y la tasa oficial BCV en tiempo real.">
  <meta name="keywords" content="dólar paralelo Venezuela, Binance P2P, BCV, tasa oficial, Maduro Dólar">
  <meta name="author" content="www.madurodolar.com">
  <meta name="robots" content="index, follow">

  <!-- Open Graph (para compartir en redes sociales) -->
  <meta property="og:title" content="MaduroDólar – Tasa USD/VES en Tiempo Real" />
  <meta property="og:description" content="Consulta la tasa paralelo USD/VES (Binance P2P) y la tasa oficial BCV en tiempo real." />
  <meta property="og:image" content="https://www.madurodolar.com/logo.png" />
  <meta property="og:url" content="https://www.madurodolar.com" />
  <meta property="og:type" content="website" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="MaduroDólar – Tasa USD/VES en Tiempo Real" />
  <meta name="twitter:description" content="Consulta la tasa paralelo USD/VES (Binance P2P) y la tasa oficial BCV en tiempo real." />
  <meta name="twitter:image" content="https://www.madurodolar.com/logo.png" />

  <link rel="stylesheet" href="style.css" />

  <!-- Favicon (opcional) -->
  <link rel="icon" href="logo.png" type="image/png" />
</head>
<body>
  <div class="container">
    <!-- LOGO -->
    <img src="logo.png" alt="Logo MaduroDólar" class="logo" />

    <!-- ===== TARJETA 1: Binance P2P ===== -->
    <div class="card">
      <h2>Precio paralelo USD/VES (Binance P2P)</h2>
      <p class="rate">
        <strong>Venta:</strong>
        <span id="sell" class="value">0,00</span> VES<br />
        <strong>Compra:</strong>
        <span id="buy" class="value">0,00</span> VES
      </p>
      <p id="updated-binance" class="updated">Última actualización: --</p>
    </div>

    <!-- ===== TARJETA 2: Dólar BCV OFICIAL ===== -->
    <div class="card">
      <h2>Precio oficial USD/VES (Dólar BCV)</h2>
      <p class="rate">
        <strong>Tasa BCV:</strong>
        <span id="bcv" class="value">0,00</span> VES
      </p>
      <p id="updated-bcv" class="updated">Última actualización: --</p>
    </div>

    <!-- ===== Íconos Sociales ===== -->
    <div class="socials">
      <a href="https://t.me/madurodolar" target="_blank">
        <img src="icons/telegram.svg" alt="Telegram" class="icon" />
      </a>
      <a href="https://www.instagram.com/madurodolar" target="_blank">
        <img src="icons/instagram.svg" alt="Instagram" class="icon" />
      </a>
      <a href="https://x.com/madurodolar" target="_blank">
        <img src="icons/x.svg" alt="X (Twitter)" class="icon" />
      </a>
    </div>

    <!-- PIE -->
    <p class="footer">Datos actualizados cada minuto vía servidor Backend</p>
  </div>

  <!-- ================ SCRIPT JS ================ -->
  <script>
    // URL base de tu backend en Render:
    const API_BASE = 'https://madurodolar-web.onrender.com';

    // 1) Fetch Binance P2P
    fetch(`${API_BASE}/api/binance`)
      .then((res) => res.json())
      .then((data) => {
        document.getElementById('sell').textContent = parseFloat(data.sell).toFixed(2);
        document.getElementById('buy').textContent = parseFloat(data.buy).toFixed(2);
        // Si quieres mostrar la hora:
        const fechaB = new Date(data.updated).toLocaleString('es-VE');
        document.getElementById('updated-binance').textContent = 'Última actualización: ' + fechaB;
      })
      .catch((err) => {
        console.error('Error al obtener Binance P2P:', err);
        document.getElementById('sell').textContent = 'Error';
        document.getElementById('buy').textContent = 'Error';
        document.getElementById('updated-binance').textContent = 'Última actualización: Error';
      });

    // 2) Fetch BCV oficial
    fetch(`${API_BASE}/api/bcv`)
      .then((res) => res.json())
      .then((data) => {
        document.getElementById('bcv').textContent = parseFloat(data.rate).toFixed(2);
        const fechaC = new Date(data.updated).toLocaleString('es-VE');
        document.getElementById('updated-bcv').textContent = 'Última actualización: ' + fechaC;
      })
      .catch((err) => {
        console.error('Error al obtener BCV:', err);
        document.getElementById('bcv').textContent = 'Error';
        document.getElementById('updated-bcv').textContent = 'Última actualización: Error';
      });
  </script>
</body>
</html>
